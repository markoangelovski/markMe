(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{2070:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return n(7934)}])},7934:function(e,t,n){"use strict";n.r(t);var r=n(7568),a=n(4051),s=n.n(a),l=n(5893),c=n(7294),i=n(1163),o=n.n(i),u=n(2821),d=n(4120),m=n(7620),p=function(){var e=(0,c.useState)(""),t=e[0],n=e[1],a=(0,c.useState)(""),i=a[0],p=a[1],x=(0,c.useState)(null),h=x[0],f=x[1],b=(0,c.useState)(!1),w=b[0],v=b[1];(0,c.useEffect)((function(){(0,r.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,m.I8)({});case 3:200===(t=e.sent).status&&o().replace("/#/"),t.status>=400&&v(!0),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.warn("Auth Error: ",e.t0),v(!0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))()}),[]);var g=function(){var e=(0,r.Z)(s().mark((function e(n){var r,a,l;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),r=o().router.asPath.split("callback=")[1],a=r||"/#/",f(null),e.prev=4,e.next=7,(0,m.x4)({auth:{username:t,password:i}});case 7:200===(l=e.sent).status&&(localStorage.setItem("markmeUserDetails",JSON.stringify(l.user)),o().replace(a)),l.status>400&&f("Username and password combo not found, please try again."),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(4),console.warn("Login Error: ",e.t0),v(!0),f("An error occurred, please try again later.");case 17:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t){return e.apply(this,arguments)}}();return w?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(u.Z,{children:(0,l.jsx)("title",{children:"Who are you?"})}),(0,l.jsx)("div",{className:"min-h-screen bg-no-repeat bg-cover bg-center",style:{backgroundImage:"url('https://images.unsplash.com/photo-1486520299386-6d106b22014b?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&amp;ixlib=rb-1.2.1&amp;auto=format&amp;fit=crop&amp;w=1050&amp;q=80')"},children:(0,l.jsx)("div",{className:"flex justify-end",children:(0,l.jsx)("div",{className:"bg-white min-h-screen w-1/2 flex justify-center items-center",children:(0,l.jsxs)("div",{children:[(0,l.jsxs)("form",{onSubmit:g,children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-sm text-gray-900",children:"Welcome back"}),(0,l.jsx)("h1",{className:"text-2xl font-bold",children:"Login to your account"})]}),(0,l.jsxs)("div",{className:"mt-5",children:[(0,l.jsx)("label",{className:"block text-md mb-2",htmlFor:"email",children:"Email"}),(0,l.jsx)("input",{className:"px-4 w-full border-2 py-2 rounded-md text-sm outline-none",type:"email",name:"email",placeholder:"email",onChange:function(e){return n(e.target.value)}})]}),(0,l.jsxs)("div",{className:"my-3",children:[(0,l.jsx)("label",{className:"block text-md mb-2",htmlFor:"password",children:"Password"}),(0,l.jsx)("input",{className:"px-4 w-full border-2 py-2 rounded-md text-sm outline-none",type:"password",name:"password",placeholder:"password",onChange:function(e){return p(e.target.value)}})]}),(0,l.jsx)("div",{className:"",children:(0,l.jsx)("button",{className:"mt-4 mb-3 w-full bg-green-500 hover:bg-green-400 text-white py-2 rounded-md transition duration-100",children:"Login now"})})]}),(0,l.jsx)("p",{className:"mt-8 ".concat(w?"visible":"invisible"," text-red-500"),children:h})]})})})})]}):(0,l.jsx)(d.Z,{})};p.withLayout=!1,t.default=p}},function(e){e.O(0,[774,888,179],(function(){return t=2070,e(e.s=t);var t}));var t=e.O();_N_E=t}]);