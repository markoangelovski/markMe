_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[6],{0:function(e,t,r){r("GcxT"),e.exports=r("nOHt")},GcxT:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return r("IlR1")}])},IlR1:function(e,t,r){"use strict";r.r(t);var n=r("rePB"),c=r("nKUr"),a=(r("OEcT"),r("o0o1")),s=r.n(a),l=r("HaE+"),o=r("20a2"),i=r.n(o),u=r("q1tI"),j=r("qcSK"),b=r("aCnj"),h=r("YFqc"),x=r.n(h),d=function(e){var t=e.setShowModal,r=e.children;return Object(c.jsx)("div",{className:"fixed inset-0 flex justify-center items-center z-10 bg-gray-600 opacity-50",onClick:function(){return t(!1)},children:r})},f=function(e){var t=e.setShowModal,r=Object(o.useRouter)().query.folderId,n=Object(u.useState)(""),a=n[0],i=n[1],b=function(){var e=Object(l.a)(s.a.mark((function e(n){var c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),c={title:a},r&&(c.parentFolder=r),!a.length){e.next=7;break}return e.next=6,Object(j.f)({body:c});case 6:t(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.jsxs)("form",{className:"relative flex w-64",onClick:function(e){return e.stopPropagation()},onSubmit:function(e){return b(e)},children:[Object(c.jsx)("span",{className:"absolute inset-y-0 left-0 flex items-center pl-2",children:Object(c.jsxs)("svg",{className:"h-5 w-5 fill-current text-gray-700",viewBox:"0 0 60 60",children:[Object(c.jsx)("path",{d:"M26.525 10.5l-4.618-6.451-.392-.549H0v53h60v-46H26.525zM58 12.5v5H31.536l-3.579-5H58zm-56 42v-49h18.485l5 7h.012l4.69 6.551a1 1 0 00.813.418v.031h27v35H2z"}),Object(c.jsx)("path",{d:"M34 51.5h21v-14H34v14zm2-12h17v10H36v-10z"}),Object(c.jsx)("path",{d:"M39 43.5h4a1 1 0 100-2h-4a1 1 0 100 2zM47 43.5h1a1 1 0 100-2h-1a1 1 0 100 2zM50 45.5H39a1 1 0 100 2h11a1 1 0 100-2z"})]})}),Object(c.jsx)("input",{onInput:function(e){return e.target.value.length<50&&i(e.target.value)},type:"text",name:"search",placeholder:"New Folder",className:"block pl-9 pr-4 py-2 w-full bg-gray-900 rounded-sm text-sm placeholder-gray-400 text-white focus:bg-white focus:placeholder-gray-600 focus:text-gray-900 focus:outline-none"}),Object(c.jsx)("input",{className:"p-2 rounded-r-sm text-sm text-white placeholder-gray-400 bg-gray-900 focus:outline-none cursor-pointer",type:"submit",value:"Create"})]})},m=function(){var e=Object(u.useState)(!1),t=e[0],r=e[1],n=Object(u.useState)(!1),a=n[0],s=n[1];return Object(c.jsxs)("span",{children:[Object(c.jsx)("a",{href:"#",className:"inline-block px-3 py-2 leading-none rounded-sm text-sm font-medium text-white hover:bg-gray-600",onClick:function(e){e.preventDefault(),r((function(e){return!e}))},children:"File"}),t&&Object(c.jsx)("button",{className:"absolute inset-0 h-full w-full cursor-default outline-none",onClick:function(){return r(!1)}}),a&&Object(c.jsx)(d,{setShowModal:s,children:Object(c.jsx)(f,{setShowModal:s})}),Object(c.jsx)("div",{className:"absolute w-48 py-2 bg-white rounded-sm shadow-xl ".concat(t?"block":"hidden"," "),children:Object(c.jsx)("a",{href:"#",className:"block px-4 py-2 text-sm text-gray-800 hover:bg-gray-400",onClick:function(e){e.preventDefault(),r(!1),s(!0)},children:"New Folder"})})]})},p=function(){var e=Object(u.useState)(!1),t=(e[0],e[1]);return Object(c.jsx)("span",{children:Object(c.jsx)("a",{href:"#",className:"inline-block px-3 py-2 leading-none rounded-sm text-sm font-medium text-white hover:bg-gray-600",onClick:function(){return t((function(e){return!e}))},children:"Edit"})})},O=function(){var e=Object(u.useState)(!1),t=(e[0],e[1]);return Object(c.jsx)("span",{children:Object(c.jsx)("a",{href:"#",className:"inline-block px-3 py-2 leading-none rounded-sm text-sm font-medium text-white hover:bg-gray-600",onClick:function(){return t((function(e){return!e}))},children:"View"})})},v=function(){var e=Object(u.useState)(""),t=e[0],r=e[1],n=Object(u.useState)(""),a=n[0],s=n[1];return Object(u.useEffect)((function(){var e=JSON.parse(localStorage.getItem("markmeUserDetails"));e&&r(e.username),e&&s(e.avatar)}),[]),Object(c.jsxs)("header",{className:"flex flex-shrink-0",children:[Object(c.jsx)("div",{className:"w-64 flex-shrink-0 px-4 py-3 bg-gray-800",children:Object(c.jsxs)("button",{className:"w-full flex items-center",children:[Object(c.jsx)(x.a,{as:"/",href:"/",children:Object(c.jsx)("a",{className:"",children:a&&Object(c.jsx)("img",{className:"h-8 w-8 rounded-full object-cover",src:a})})}),Object(c.jsx)("span",{className:"ml-4 mr-2 text-sm font-medium text-white",children:t}),Object(c.jsx)("svg",{className:"ml-auto h-6 w-6 stroke-current text-gray-400",viewBox:"0 0 24 24",fill:"none",children:Object(c.jsx)("path",{d:"M16 10l-4 4-4-4",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]})}),Object(c.jsxs)("div",{className:"flex-1 flex items-center justify-between px-6 bg-gray-700",children:[Object(c.jsxs)("nav",{className:"flex",children:[Object(c.jsx)(m,{}),Object(c.jsx)(p,{}),Object(c.jsx)(O,{})]}),Object(c.jsxs)("div",{className:"relative w-64",children:[Object(c.jsx)("span",{className:"absolute inset-y-0 left-0 flex items-center pl-2",children:Object(c.jsx)("svg",{className:"h-5 w-5 fill-current text-gray-500",viewBox:"0 0 53.627 53.627",children:Object(c.jsx)("path",{d:"M53.627 49.385L37.795 33.553C40.423 30.046 42 25.709 42 21 42 9.42 32.58 0 21 0S0 9.42 0 21s9.42 21 21 21c4.709 0 9.046-1.577 12.553-4.205l15.832 15.832 4.242-4.242zM2 21C2 10.523 10.523 2 21 2s19 8.523 19 19-8.523 19-19 19S2 31.477 2 21zm33.567 15.093c.178-.172.353-.347.525-.525.146-.151.304-.29.445-.445l14.262 14.262-1.415 1.415-14.261-14.263c.155-.141.293-.299.444-.444z"})})}),Object(c.jsx)("input",{type:"text",name:"search",placeholder:"Search",className:"block pl-9 pr-4 py-2 w-full bg-gray-900 rounded-sm text-sm placeholder-gray-400 text-white focus:bg-white focus:placeholder-gray-600 focus:text-gray-900 focus:outline-none"})]})]})]})},g=function(e){var t=e.folder,r=e.handleGetSubFolders;return Object(c.jsx)(x.a,{as:"/".concat(t._id),href:"/[folderId]",children:Object(c.jsxs)("a",{className:"-mx-3 px-3 py-2 flex items-center text-sm font-medium hover:bg-gray-200",children:[Object(c.jsx)("svg",{className:"-ml-3 h-6 w-6 stroke-current text-gray-400 hover:text-black",viewBox:"0 0 24 24",fill:"none",onClick:function(e){return r(e)},children:Object(c.jsx)("path",{d:"M16 10l-4 4-4-4",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),Object(c.jsxs)("span",{className:"inline-flex",children:[Object(c.jsxs)("svg",{className:"h-5 w-5 fill-current text-gray-700",viewBox:"0 0 60 60",children:[Object(c.jsx)("path",{d:"M26.525 10.5l-4.618-6.451-.392-.549H0v53h60v-46H26.525zM58 12.5v5H31.536l-3.579-5H58zm-56 42v-49h18.485l5 7h.012l4.69 6.551a1 1 0 00.813.418v.031h27v35H2z"}),Object(c.jsx)("path",{d:"M34 51.5h21v-14H34v14zm2-12h17v10H36v-10z"}),Object(c.jsx)("path",{d:"M39 43.5h4a1 1 0 100-2h-4a1 1 0 100 2zM47 43.5h1a1 1 0 100-2h-1a1 1 0 100 2zM50 45.5H39a1 1 0 100 2h11a1 1 0 100-2z"})]}),Object(c.jsx)("span",{className:"ml-2 text-gray-900",children:t.title})]})]})})},w=function(e){var t=e.folder,r=Object(u.useState)([]),n=r[0],a=r[1],o=function(){var e=Object(l.a)(s.a.mark((function e(r){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),r.stopPropagation(),e.prev=2,e.next=5,Object(j.b)({param:"/".concat(t._id,"/sub-folders")});case 5:(n=e.sent)&&a(n.folders),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.warn("Error fetching Sub-folders: ",e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}();return console.log("folders: ",n),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(g,{folder:t,handleGetSubFolders:o}),n.map((function(e,t){console.log("subFolder: ",e.title)}))]})},y=function(e){var t=e.bookmark;return Object(c.jsxs)("a",{className:"-mx-3 px-3 py-2 flex items-center  text-sm font-medium hover:bg-gray-200",href:t.url,target:"_blank",children:[Object(c.jsx)("svg",{className:"h-5 w-5 flex-shrink-0 fill-current text-gray-700",viewBox:"0 0 60 60",children:Object(c.jsx)("path",{d:"M52.934 6.136c0-3.324-2.684-6.053-6-6.126V0h-36.91a6.096 6.096 0 00-6.09 6.09v50.778l19-12.666 19 12.666V25h11V6.136zm-13 46.996l-17-11.334-17 11.334V6.09A4.095 4.095 0 0110.024 2H42.04a6.993 6.993 0 00-1.965 3.611l-.001.003A6.86 6.86 0 0039.934 7V53.132zm11-30.132h-9V7c0-.34.035-.671.1-.992a5.034 5.034 0 013.728-3.855c.036-.009.068-.025.104-.032.243-.054.498-.073.753-.089.083-.005.162-.024.246-.025 2.246.037 4.069 1.881 4.069 4.129V23z"})}),Object(c.jsx)("span",{className:"ml-2 text-gray-900",children:t.title||t.meta&&t.meta.title||t.url})]})},k=function(){var e=Object(u.useState)([]),t=e[0],r=e[1],n=Object(u.useState)([]),a=n[0],o=n[1];return Object(u.useEffect)((function(){Object(l.a)(s.a.mark((function e(){var t,n,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(j.c)({});case 3:t=e.sent,n=t.folders,c=t.bookmarks,r(n),o(c),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.warn("Error while fetching Sidebar Folders: ",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()}),[]),Object(c.jsxs)("nav",{className:"w-64 p-6 bg-gray-100 overflow-y-auto",children:[Object(c.jsx)("h2",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide",children:"Folders"}),Object(c.jsx)("div",{className:"mt-3",children:t&&t.map((function(e,t){return Object(c.jsx)(w,{folder:e},t)}))}),Object(c.jsx)("h2",{className:"mt-10 text-xs font-semibold text-gray-600 uppercase tracking-wide",children:"Bookmarks"}),Object(c.jsx)("div",{className:"mt-3",children:a&&a.map((function(e,t){return Object(c.jsx)(y,{bookmark:e},t)}))})]})},N=function(e){var t=e.children,r=Object(u.useState)(!1),n=r[0],a=r[1];return Object(u.useEffect)((function(){Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(j.a)({});case 3:e.sent.status>=400?(localStorage.removeItem("markmeUserDetails"),i.a.replace("/login")):a(!0),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.warn("Auth Error: ",e.t0),i.a.replace("/login");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))()}),[]),n?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(b.a,{}),Object(c.jsxs)("div",{className:"h-screen flex flex-col",children:[Object(c.jsx)(v,{}),Object(c.jsxs)("div",{className:"flex-1 flex overflow-hidden",children:[Object(c.jsx)(k,{}),Object(c.jsx)("main",{className:"flex-1 flex flex-col bg-gray-200 h-full",children:t})]})]})]}):Object(c.jsx)("div",{children:"Loading..."})};function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.default=function(e){var t=e.Component,r=e.pageProps;return t.withLayout?Object(c.jsx)(N,{children:Object(c.jsx)(t,z({},r))}):Object(c.jsx)(t,z({},r))}},OEcT:function(e,t,r){}},[[0,0,2,1,3]]]);