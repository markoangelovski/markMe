(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(8731)}])},8731:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return C}});var a=r(5893),s=r(7294),l=r(1163),o=r(6978),n=r(1664),i=r.n(n),d=r(5478),c=r(3609),h=function(e){var t=e.folder,r=new Date(t.createdAt)>c.i;return(0,a.jsx)("div",{className:"flex",children:(0,a.jsx)(i(),{href:"/#".concat(t.path),children:(0,a.jsxs)("a",{"data-type":"folder","data-id":t._id,className:"relative flex items-center hover:bg-gray-300",draggable:"true",children:[(0,a.jsx)(d.RO,{classList:"inline h-5 w-5 fill-current text-gray-700",folderCount:t.folderCount,bookmarkCount:t.bookmarkCount,showSubFolders:!1}),r&&(0,a.jsx)(d._F,{classList:"w-4 absolute top-0 left-3"}),(0,a.jsx)("span",{"data-type":"folder","data-id":t._id,className:"ml-2 whitespace-pre py-1 pl-1 pr-2 text-sm text-gray-900",children:t.title})]})})})},x=r(2500),u=function(e){var t,r,s=e.bookmark,l=new Date(s.createdAt)>=c.i;return(0,a.jsx)("div",{className:"flex",children:(0,a.jsxs)("a",{"data-type":"bookmark","data-id":s._id,href:x.client+"/stats?url="+s.url+"&id="+s._id,className:"relative flex items-center hover:bg-gray-300",target:"_blank",onClick:function(e){return e.stopPropagation()},title:(null===(t=s.meta)||void 0===t?void 0:t.description)||(null===(r=s.meta)||void 0===r?void 0:r.url),children:[(0,a.jsx)(d.JO,{meta:s.meta}),l&&(0,a.jsx)(d._F,{classList:"w-4 absolute top-0 left-3"}),(0,a.jsx)("span",{"data-type":"bookmark","data-id":s._id,className:"ml-2 whitespace-pre py-1 pl-1 pr-2 text-sm text-gray-900",children:s.title||s.meta&&s.meta.title||s.url})]})})},m=function(e){var t=e.folderCount,r=e.bookmarkCount;return(0,a.jsx)("footer",{className:"flex-shrink-0 flex justify-end bg-gray-300 border-t border-gray-100",children:(0,a.jsxs)("span",{children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:r}),(0,a.jsx)("svg",{className:"inline h-4 w-4 mx-1 fill-current text-gray-700",viewBox:"0 0 56.868 56.868",children:(0,a.jsx)("path",{d:"M52.934 6.136c0-3.324-2.684-6.053-6-6.126V0h-36.91a6.096 6.096 0 00-6.09 6.09v50.778l19-12.666 19 12.666V25h11V6.136zm-13 46.996l-17-11.334-17 11.334V6.09A4.095 4.095 0 0110.024 2H42.04a6.993 6.993 0 00-1.965 3.611l-.001.003A6.86 6.86 0 0039.934 7V53.132zm11-30.132h-9V7c0-.34.035-.671.1-.992a5.034 5.034 0 013.728-3.855c.036-.009.068-.025.104-.032.243-.054.498-.073.753-.089.083-.005.162-.024.246-.025 2.246.037 4.069 1.881 4.069 4.129V23z"})}),(0,a.jsx)("span",{className:"text-sm text-gray-600",children:t}),(0,a.jsxs)("svg",{className:"inline h-4 w-4 mx-1 fill-current text-gray-700",viewBox:"0 0 60 60",children:[(0,a.jsx)("path",{d:"M26.525 10.5l-4.618-6.451-.392-.549H0v53h60v-46H26.525zM58 12.5v5H31.536l-3.579-5H58zm-56 42v-49h18.485l5 7h.012l4.69 6.551a1 1 0 00.813.418v.031h27v35H2z"}),(0,a.jsx)("path",{d:"M34 51.5h21v-14H34v14zm2-12h17v10H36v-10z"}),(0,a.jsx)("path",{d:"M39 43.5h4a1 1 0 100-2h-4a1 1 0 100 2zM47 43.5h1a1 1 0 100-2h-1a1 1 0 100 2zM50 45.5H39a1 1 0 100 2h11a1 1 0 100-2z"})]})]})})},f=r(3865),p=function(e){var t=e.title,r=e.headings,s=e.folders,l=e.bookmarks,o=r.includes("Visits");return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"flex w-3/6 flex-col overflow-hidden p-3",children:[(0,a.jsx)("div",{className:"border-b border-gray-800 text-center",children:(0,a.jsx)("h2",{children:t})}),(0,a.jsx)("div",{className:"overflow-x-auto sm:-mx-6 lg:-mx-8",children:(0,a.jsx)("div",{className:"inline-block min-w-full px-3",children:(0,a.jsx)("div",{className:"overflow-hidden",children:(0,a.jsxs)("table",{className:"min-w-full text-center text-sm ",children:[(0,a.jsx)("thead",{className:"dark:border-neutral-500 border-b",children:(0,a.jsx)("tr",{children:r.map((function(e,t){return(0,a.jsx)("th",{scope:"col",className:"whitespace-nowrap px-6 py-2",children:e},t)}))})}),(0,a.jsxs)("tbody",{children:[s&&s.map((function(e,t){return(0,a.jsxs)("tr",{className:"dark:border-neutral-500 border-b",children:[(0,a.jsx)("td",{className:"whitespace-nowrap px-6",children:(0,a.jsx)(h,{folder:e})}),(0,a.jsx)("td",{className:"whitespace-nowrap px-6",children:(0,a.jsx)(i(),{href:"/#".concat(e.path),children:e.path})}),o&&(0,a.jsx)("td",{className:"whitespace-nowrap px-6",children:e.hitCount}),(0,a.jsx)("td",{className:"whitespace-nowrap px-6",children:e.folderCount}),(0,a.jsx)("td",{className:"whitespace-nowrap px-6",children:e.bookmarkCount}),(0,a.jsx)("td",{className:"whitespace-nowrap px-6",children:(0,f.d)(e.createdAt)}),(0,a.jsx)("td",{className:"whitespace-nowrap px-6",children:(0,f.d)(e.updatedAt)})]},t)})),l&&l.map((function(e,t){return(0,a.jsxs)("tr",{className:"dark:border-neutral-500 border-b",children:[(0,a.jsx)("td",{className:"whitespace-nowrap px-6",children:(0,a.jsx)(u,{bookmark:e})}),(0,a.jsx)("td",{className:"whitespace-nowrap px-6",children:(0,a.jsx)(i(),{href:"/#".concat(e.parentFolderPath),children:(0,a.jsx)("a",{children:e.parentFolderPath})})}),o&&(0,a.jsx)("td",{className:"whitespace-nowrap px-6",children:e.hitCount}),(0,a.jsx)("td",{className:"whitespace-nowrap px-6",children:(0,f.d)(e.createdAt)}),(0,a.jsx)("td",{className:"whitespace-nowrap px-6",children:(0,f.d)(e.updatedAt)})]},t)}))]})]})})})})]})})},k=function(e){var t=e.type,r=e.title,s=e.elementTitle,l=e.totalItems;return(0,a.jsxs)("div",{title:s,children:[(0,a.jsx)("h2",{className:"mb-2",children:r}),(0,a.jsxs)("div",{className:"relative flex",children:["folder"===t&&(0,a.jsx)(d.RO,{showSubFolders:!0,classList:"w-10 flex-none mr-2"}),/new/gi.test(r)&&(0,a.jsx)(d._F,{classList:"w-7 absolute -top-2 left-5"}),"bookmark"===t&&(0,a.jsx)(d.pl,{classList:"w-10 flex-none"}),(0,a.jsx)("span",{className:"w-full text-center text-3xl",children:l})]})]})},j=function(){var e,t,r,s=(0,o.Kw)((function(e){return e})).sidebar;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex justify-between p-3",children:[(0,a.jsx)(k,{type:"folder",title:"Total Folders",elementTitle:"Total number of folders.",totalItems:s.totalFolders}),(0,a.jsx)(k,{type:"bookmark",title:"Total Bookmarks",elementTitle:"Total number of bookmarks.",totalItems:s.totalBookmarks}),(0,a.jsx)(k,{type:"folder",title:"New Folders",elementTitle:"Number of new folders created in last 7 days.",totalItems:s.newFolders}),(0,a.jsx)(k,{type:"bookmark",title:"New Bookmarks",elementTitle:"Number of new bookmarks created in last 7 days.",totalItems:s.newBookmarks})]}),(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)(p,{title:"Popular folders",headings:["Title","Path","Visits","Sub-folders","Bookmarks","Created","Modified"],folders:s.popularFolders}),(0,a.jsx)(p,{title:"Popular bookmarks",headings:["Title","Path","Visits","Created","Modified"],bookmarks:s.popularBookmarks})]}),(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)(p,{title:"Recent folders",headings:["Title","Path","Sub-folders","Bookmarks","Created","Modified"],folders:s.recentFolders}),(0,a.jsx)(p,{title:"Recent bookmarks",headings:["Title","Path","Created","Modified"],bookmarks:s.recentBookmarks})]}),(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)(p,{title:"Root folders",headings:["Title","Path","Sub-folders","Bookmarks","Created","Modified"],folders:null===(e=s.rootFolders)||void 0===e?void 0:e.sort(f.D)}),(0,a.jsx)(p,{title:"Root bookmarks",headings:["Title","Path","Created","Modified"],bookmarks:s.rootBookmarks})]}),(0,a.jsx)(m,{folderCount:null===(t=s.rootFolders)||void 0===t?void 0:t.length,bookmarkCount:null===(r=s.rootBookmarks)||void 0===r?void 0:r.length})]})},v=r(7568),w=r(4051),b=r.n(w),N=r(2821),g=function(){var e,t,r=(0,o.Kw)((function(e){return e})).folder,n=(0,o.WX)((function(e){return e})),i=n.fetchActiveFolder,d=n.fetchBookmarkMetadata,c=n.setShowNewBookmarkModal,x=(0,l.useRouter)().asPath.split("#")[1];(0,s.useEffect)((function(){i(x)}),[x]);var p=function(){var e=(0,v.Z)(b().mark((function e(t){var r;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),r=t.dataTransfer.getData("text/uri-list"),c(!0),d(r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(N.Z,{children:(0,a.jsx)("title",{children:r.title||"Loading..."})}),(0,a.jsxs)("div",{className:"flex-1 p-3 overflow-x-auto flex flex-col flex-wrap h-full",onDragOver:function(e){return e.preventDefault()},onDrop:function(e){return p(e)},children:[r?null===(e=r.folders)||void 0===e?void 0:e.sort(f.D).map((function(e,t){return(0,a.jsx)(h,{folder:e},e.path)})):null,r?null===(t=r.bookmarks)||void 0===t?void 0:t.sort(f.D).map((function(e,t){return(0,a.jsx)(u,{bookmark:e},e._id)})):null]}),(0,a.jsx)(m,{folderCount:r?r.folderCount:0,bookmarkCount:r?r.bookmarkCount:0})]})},y=function(){var e=(0,l.useRouter)();(0,s.useEffect)((function(){!/\/#\//.test(e.asPath)&&e.push("/#/")}),[]);var t=e.asPath.split("#");return"/"===t[0]&&"/"===t[1]?(0,a.jsx)(j,{}):(0,a.jsx)(g,{})};y.withLayout=!0;var C=y}},function(e){e.O(0,[774,888,179],(function(){return t=5557,e(e.s=t);var t}));var t=e.O();_N_E=t}]);