(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[3],{"20a2":function(e,t,r){e.exports=r("nOHt")},"4Cfr":function(e,t,r){"use strict";t.a=function(){return{get:function(e){return JSON.parse(localStorage.getItem(e))},set:function(e,t){return localStorage.setItem(e,JSON.stringify(t))},del:function(e){return localStorage.removeItem(e)}}}},"4sMD":function(e,t,r){"use strict";r.d(t,"b",(function(){return f})),r.d(t,"a",(function(){return v}));var n=r("nKUr"),a=r("q1tI"),o=r("o0o1"),c=r.n(o),s=r("HaE+"),u=r("20a2"),i=r("qcSK"),l=Object(a.createContext)(),f=function(){return Object(a.useContext)(l)},v=function(e){var t=e.children,r=function(){var e=Object(a.useState)([]),t=e[0],r=e[1],n=Object(a.useState)([]),o=n[0],u=n[1];return Object(a.useEffect)((function(){Object(s.a)(c.a.mark((function e(){var t,n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(i.g)({});case 3:t=e.sent,n=t.folders,a=t.bookmarks,r(n),u(a),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.warn("Error while fetching Sidebar Folders: ",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()}),[]),{folders:t,bookmarks:o}}(),o=r.folders,f=r.bookmarks,v=function(){var e=Object(a.useState)([]),t=e[0],r=e[1],n=Object(u.useRouter)().query.folderId;return Object(a.useEffect)((function(){Object(s.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,e.t0=n,!e.t0){e.next=6;break}return e.next=5,Object(i.e)({param:n});case 5:e.t0=e.sent;case 6:(t=e.t0)&&r(t.folder),e.next=13;break;case 10:e.prev=10,e.t1=e.catch(0),console.warn("Error fetching folder contents: ",e.t1);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()}),[n]),{folder:t}}().folder,d=function(){var e=Object(a.useState)({}),t=e[0],r=e[1],n=Object(a.useState)(!1),o=n[0],l=n[1],f=Object(u.useRouter)().query.folderId;return{addedNewBookmark:t,newBookmarkHook:function(){var e=Object(s.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,e.t0=null===(n=t.url)||void 0===n?void 0:n.length,!e.t0){e.next=6;break}return e.next=5,Object(i.i)({body:t});case 5:e.t0=e.sent;case 6:e.t0.message&&setTimeout(Object(s.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=f,!e.t0){e.next=5;break}return e.next=4,Object(i.e)({param:f});case 4:e.t0=e.sent;case 5:(t=e.t0)&&r(t.folder);case 7:case"end":return e.stop()}}),e)}))),1e3),e.next=13;break;case 10:e.prev=10,e.t1=e.catch(0),console.warn("Error creating a new bookmark: ",e.t1);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),showNewBookmarkModal:o,setShowNewBookmarkModal:l}}(),h=d.addedNewBookmark,p=d.newBookmarkHook,b=d.showNewBookmarkModal,m=d.setShowNewBookmarkModal,j=function(){var e=Object(a.useState)({}),t=e[0],r=e[1],n=Object(a.useState)([]),o=n[0],l=n[1],f=Object(u.useRouter)().query.folderId;return{addedNewSubFolder:t,addedNewSidebarFolder:o,newFolderHook:function(){var e=Object(s.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(i.j)(t);case 3:201===e.sent.status&&setTimeout(Object(s.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=f,!e.t0){e.next=5;break}return e.next=4,Object(i.e)({param:f});case 4:e.t0=e.sent;case 5:if((t=e.t0)&&r(t.folder),e.t1=!f,!e.t1){e.next=12;break}return e.next=11,Object(i.g)({});case 11:e.t1=e.sent;case 12:(n=e.t1)&&l(n.folders);case 14:case"end":return e.stop()}}),e)}))),1e3),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.warn("Error creating a new folder: ",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}}(),O=j.addedNewSubFolder,H=j.addedNewSidebarFolder,w=j.newFolderHook,k=function(){var e=Object(a.useState)({}),t=e[0],r=e[1];return{metadata:t,getMetadataHook:function(){var e=Object(s.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,e.t0=null===t||void 0===t?void 0:t.length,!e.t0){e.next=6;break}return e.next=5,Object(i.d)({query:{url:t}});case 5:e.t0=e.sent;case 6:(n=e.t0)&&r(n),e.next=13;break;case 10:e.prev=10,e.t1=e.catch(0),console.warn("Error creating a new bookmark: ",e.t1);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()}}(),x=k.metadata,g=k.getMetadataHook;return Object(n.jsx)(l.Provider,{value:{folders:o,bookmarks:f,folder:v,addedNewBookmark:h,newBookmarkHook:p,showNewBookmarkModal:b,setShowNewBookmarkModal:m,addedNewSubFolder:O,addedNewSidebarFolder:H,newFolderHook:w,metadata:x,getMetadataHook:g},children:t})}},"HaE+":function(e,t,r){"use strict";function n(e,t,r,n,a,o,c){try{var s=e[o](c),u=s.value}catch(i){return void r(i)}s.done?t(u):Promise.resolve(u).then(n,a)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(a,o){var c=e.apply(t,r);function s(e){n(c,a,o,s,u,"next",e)}function u(e){n(c,a,o,s,u,"throw",e)}s(void 0)}))}}r.d(t,"a",(function(){return a}))},LrU7:function(e){e.exports=JSON.parse('{"api":"https://markme-api.herokuapp.com","client":"https://markme.angelovski.ga"}')},YFqc:function(e,t,r){e.exports=r("cTJO")},"Z+58":function(e,t,r){"use strict";r.d(t,"c",(function(){return a})),r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return c}));var n=r("nKUr"),a=function(e){var t=e.classList,r=e.folderCount,a=e.bookmarkCount,o=e.showSubFolders,c="boolean"===typeof o&&!o,s="boolean"===typeof o&&o,u=r&&!a,i=!r&&a,l=r&&a;return c&&u?Object(n.jsxs)("svg",{className:t,viewBox:"0 0 60 60",children:[Object(n.jsx)("path",{d:"M26.525 10.5l-4.618-6.451-.392-.549H0v53h60v-46H26.525zM58 12.5v5H31.536l-3.579-5H58zm-56 42v-49h18.485l5 7h.012l4.69 6.551a1 1 0 00.813.418v.031h27v35H2z"}),Object(n.jsx)("path",{d:"M34 51.5h21v-14H34v14zm2-12h17v10H36v-10z"}),Object(n.jsx)("path",{d:"M39 43.5h4a1 1 0 100-2h-4a1 1 0 100 2zM47 43.5h1a1 1 0 100-2h-1a1 1 0 100 2zM50 45.5H39a1 1 0 100 2h11a1 1 0 100-2z"})]}):c&&i?Object(n.jsxs)("svg",{className:t,viewBox:"0 0 60 60",children:[Object(n.jsx)("path",{d:"M26.525 10.5l-4.618-6.451-.392-.549H0v53h60v-46H26.525zM58 12.5v5H31.536l-3.579-5H58zm-56 42v-49h18.485l5 7h.012l4.69 6.551a1 1 0 00.813.418v.031h27v35H2z"}),Object(n.jsx)("path",{d:"M19 30.5h14a1 1 0 100-2H19a1 1 0 100 2zM41 34.5H19a1 1 0 100 2h22a1 1 0 100-2zM41 40.5H19a1 1 0 100 2h22a1 1 0 100-2z"})]}):c&&l?Object(n.jsxs)("svg",{className:t,viewBox:"0 0 60 60",children:[Object(n.jsx)("path",{d:"M32.515 7l-5-7H6v4H3v4H0v52h60V7H32.515zM2 58V10h18.485l5 7h.012l4.69 6.551c.195.272.502.417.813.418V24h27v34H2zm56-36H31.537l-3.579-5H58v5zm0-7H26.525l-4.712-6.582-.001-.001L21.515 8H5V6h18.485l5 7H58v2zm-28.485-4l-5-7H8V2h18.485l5 7H58v2H29.515z"}),Object(n.jsx)("path",{d:"M27 55h28V35H27v20zm2-18h24v16H29V37z"}),Object(n.jsx)("path",{d:"M33 40h10v2H33zM33 44h16v2H33zM33 48h16v2H33z"})]}):c?Object(n.jsx)("svg",{className:t,viewBox:"0 0 60 60",children:Object(n.jsx)("path",{d:"M26.525 10.5l-4.618-6.451-.392-.549H0v53h60v-46H26.525zM58 12.5v5H31.536l-3.579-5H58zm-56 42v-49h18.485l5 7h.012l4.69 6.551a1 1 0 00.813.418v.031h27v35H2z"})}):s&&u?Object(n.jsx)("svg",{className:t,viewBox:"0 0 60 60",children:Object(n.jsx)("path",{d:"M57.49 21.5H55v-9H26.515l-5-7H2.732A2.736 2.736 0 000 8.232v43.687h.006c-.005.563.17 1.114.522 1.575A2.546 2.546 0 002.565 54.5h44.759c1.156 0 2.174-.779 2.45-1.813L60 24.649v-.177c0-1.722-1.056-2.972-2.51-2.972zm-4.49-7v7h-8v-3a1 1 0 10-2 0v3h-5v-3a1 1 0 10-2 0v3h-5v-3a1 1 0 10-2 0v3h-5v-3a1 1 0 10-2 0v3h-5v-3a1 1 0 10-2 0v3h-2.269c-.143 0-.284.012-.422.035-.974.162-1.786.872-2.028 1.778l-.317.87L5 37.793V20.5h6v-6h42zm-46.586 4L9 15.914V18.5H6.414zM2 8.232c0-.404.329-.732.732-.732h17.753l3.571 5H9.586L3 19.086v24.085l-1 2.728V8.232zm45.869 43.851a.566.566 0 01-.545.417H2.565a.552.552 0 01-.448-.222c-.063-.082-.16-.256-.123-.408L3 49.112v.001l9.16-25.114.026-.082a.566.566 0 01.545-.417H57.49c.38 0 .477.546.502.819L47.869 52.083z"})}):s&&i?Object(n.jsx)("svg",{className:t,viewBox:"0 0 60 60",children:Object(n.jsx)("path",{d:"M57.49 21.5H55v-7h-2v-4H25.086l-3.571-5H2.732A2.736 2.736 0 000 8.232v43.687h.006c-.005.563.17 1.114.522 1.575A2.546 2.546 0 002.565 54.5h44.759c1.156 0 2.174-.779 2.45-1.813L60 24.649v-.177c0-1.722-1.056-2.972-2.51-2.972zm-4.49 0h-8v-1a1 1 0 10-2 0v1h-5v-1a1 1 0 10-2 0v1h-5v-1a1 1 0 10-2 0v1h-5v-1a1 1 0 10-2 0v1h-5v-1a1 1 0 10-2 0v1h-2.269a2.596 2.596 0 00-1.731.674V16.5h42v5zM5 37.793V22.5h5.695a2.304 2.304 0 00-.414.813l-.317.87L5 37.793zM9 20.5H6.414L7 19.914l2-2V20.5zm42-8v2H9.586L7 17.086V12.5h44zM2 8.232c0-.404.329-.732.732-.732h17.753l2.143 3H5v8.586l-2 2v22.085l-1 2.728V8.232zm45.869 43.851a.566.566 0 01-.545.417H2.565a.552.552 0 01-.448-.222c-.063-.082-.16-.256-.123-.408L3 49.112v.001l9.16-25.114.026-.082a.566.566 0 01.545-.417H57.49c.38 0 .477.546.502.819L47.869 52.083z"})}):s&&l?Object(n.jsxs)("svg",{className:t,viewBox:"0 0 60 60",children:[Object(n.jsx)("path",{d:"M57.49 27H54v-6.268A2.736 2.736 0 0051.268 18H48v-2.414l-.495-.495-.001-.002-7.296-7.296L32.414 0H8v11H2.732A2.736 2.736 0 000 13.732v43.687h.006c-.005.563.17 1.114.522 1.575A2.546 2.546 0 002.565 60h44.759c1.156 0 2.174-.779 2.45-1.813L60 30.149v-.177C60 28.25 58.944 27 57.49 27zm-6.222-7c.403 0 .732.328.732.732V27h-4v-7h3.268zM33 3.415L44.586 15H33V3.415zM10 2h21v15h15v10H12.731c-.143 0-.284.012-.422.035-.974.162-1.786.872-2.028 1.778l-.281.772V2zM2 13.732c0-.404.329-.732.732-.732H8v22.035L2 51.399V13.732zm45.869 43.851a.565.565 0 01-.545.417H2.565a.552.552 0 01-.448-.222c-.063-.082-.16-.256-.123-.408L8 40.898v.005l4.16-11.404.026-.082a.566.566 0 01.545-.417H57.49c.38 0 .477.546.502.819L47.869 57.583z"}),Object(n.jsx)("path",{d:"M16 17h10a1 1 0 100-2H16a1 1 0 100 2zM16 10h10a1 1 0 100-2H16a1 1 0 100 2zM16 24h24a1 1 0 100-2H16a1 1 0 100 2z"})]}):s?Object(n.jsx)("svg",{className:t,viewBox:"0 0 60 60",children:Object(n.jsx)("path",{d:"M57.49 21.5H54v-6.268a2.735 2.735 0 00-2.732-2.732H26.515l-5-7H2.732A2.736 2.736 0 000 8.232v43.687h.006c-.005.563.17 1.114.522 1.575A2.546 2.546 0 002.565 54.5h44.759c1.156 0 2.174-.779 2.45-1.813L60 24.649v-.177c0-1.722-1.056-2.972-2.51-2.972zM2 8.232c0-.404.329-.732.732-.732h17.753l5 7h25.782c.404 0 .732.328.732.732V21.5H12.731c-.144 0-.287.012-.426.036-.973.163-1.782.873-2.023 1.776L2 45.899V8.232zm45.869 43.851a.566.566 0 01-.545.417H2.565a.552.552 0 01-.448-.222c-.063-.082-.16-.256-.123-.408l10.191-27.953a.566.566 0 01.545-.417H57.49c.38 0 .477.546.502.819L47.869 52.083z"})}):null},o=function(e){var t=e.classList;return Object(n.jsx)("svg",{className:t,viewBox:"0 0 60 60",children:Object(n.jsx)("path",{d:"M52.934 6.136c0-3.324-2.684-6.053-6-6.126V0h-36.91a6.096 6.096 0 00-6.09 6.09v50.778l19-12.666 19 12.666V25h11V6.136zm-13 46.996l-17-11.334-17 11.334V6.09A4.095 4.095 0 0110.024 2H42.04a6.993 6.993 0 00-1.965 3.611l-.001.003A6.86 6.86 0 0039.934 7V53.132zm11-30.132h-9V7c0-.34.035-.671.1-.992a5.034 5.034 0 013.728-3.855c.036-.009.068-.025.104-.032.243-.054.498-.073.753-.089.083-.005.162-.024.246-.025 2.246.037 4.069 1.881 4.069 4.129V23z"})})},c=function(e){var t=e.classList,r=e.icon;return Object(n.jsx)("img",{className:t,src:r,alt:"",onError:function(e){return e.target.src="/favicon.ico"}})}},cTJO:function(e,t,r){"use strict";var n=r("J4zp"),a=r("284h");t.__esModule=!0,t.default=void 0;var o=a(r("q1tI")),c=r("elyg"),s=r("nOHt"),u=r("vNVm"),i={};function l(e,t,r,n){if(e&&(0,c.isLocalURL)(t)){e.prefetch(t,r,n).catch((function(e){0}));var a=n&&"undefined"!==typeof n.locale?n.locale:e&&e.locale;i[t+"%"+r+(a?"%"+a:"")]=!0}}var f=function(e){var t=!1!==e.prefetch,r=(0,s.useRouter)(),a=r&&r.pathname||"/",f=o.default.useMemo((function(){var t=(0,c.resolveHref)(a,e.href,!0),r=n(t,2),o=r[0],s=r[1];return{href:o,as:e.as?(0,c.resolveHref)(a,e.as):s||o}}),[a,e.href,e.as]),v=f.href,d=f.as,h=e.children,p=e.replace,b=e.shallow,m=e.scroll,j=e.locale;"string"===typeof h&&(h=o.default.createElement("a",null,h));var O=o.Children.only(h),H=O&&"object"===typeof O&&O.ref,w=(0,u.useIntersection)({rootMargin:"200px"}),k=n(w,2),x=k[0],g=k[1],z=o.default.useCallback((function(e){x(e),H&&("function"===typeof H?H(e):"object"===typeof H&&(H.current=e))}),[H,x]);(0,o.useEffect)((function(){var e=g&&t&&(0,c.isLocalURL)(v),n="undefined"!==typeof j?j:r&&r.locale,a=i[v+"%"+d+(n?"%"+n:"")];e&&!a&&l(r,v,d,{locale:n})}),[d,v,g,j,t,r]);var M={ref:z,onClick:function(e){O.props&&"function"===typeof O.props.onClick&&O.props.onClick(e),e.defaultPrevented||function(e,t,r,n,a,o,s,u){("A"!==e.currentTarget.nodeName||!function(e){var t=e.currentTarget.target;return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)&&(0,c.isLocalURL)(r))&&(e.preventDefault(),null==s&&(s=n.indexOf("#")<0),t[a?"replace":"push"](r,n,{shallow:o,locale:u,scroll:s}).then((function(e){e&&s&&document.body.focus()})))}(e,r,v,d,p,b,m,j)},onMouseEnter:function(e){(0,c.isLocalURL)(v)&&(O.props&&"function"===typeof O.props.onMouseEnter&&O.props.onMouseEnter(e),l(r,v,d,{priority:!0}))}};if(e.passHref||"a"===O.type&&!("href"in O.props)){var y="undefined"!==typeof j?j:r&&r.locale,L=(0,c.getDomainLocale)(d,y,r&&r.locales,r&&r.domainLocales);M.href=L||(0,c.addBasePath)((0,c.addLocale)(d,y,r&&r.defaultLocale))}return o.default.cloneElement(O,M)};t.default=f},qcSK:function(e,t,r){"use strict";r.d(t,"a",(function(){return f})),r.d(t,"h",(function(){return v})),r.d(t,"j",(function(){return d})),r.d(t,"c",(function(){return h})),r.d(t,"i",(function(){return p})),r.d(t,"b",(function(){return b})),r.d(t,"g",(function(){return m})),r.d(t,"e",(function(){return j})),r.d(t,"d",(function(){return O})),r.d(t,"f",(function(){return H}));var n=r("o0o1"),a=r.n(n),o=r("rePB"),c=r("HaE+"),s=r("rOcY");function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){Object(o.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var l=function(e,t,r){return function(){var n=Object(c.a)(a.a.mark((function n(o){var c,u,l,f,v,d,h,p,b;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=o.param,u=o.auth,l=o.body,f=o.query,v=s.api+t,c&&(v=v+"/"+c),f&&(v=v+"?"+new URLSearchParams(f)),d={},r&&(d["Content-Type"]="application/json"),u&&(d.Authorization=btoa("".concat(u.username,":").concat(u.password))),h={method:e,headers:d,credentials:"include"},l&&(h.body=JSON.stringify(l)),n.next=11,fetch(v,h).then((function(e){return p=e.status,e.json()}));case 11:return b=n.sent,n.abrupt("return",i({status:p},b));case 13:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},f=l("POST","/user/auth",!1),v=l("POST","/user/login",!1),d=(l("POST","/user/logout",!1),l("POST","/folder/new",!0)),h=(l("PATCH","/folder/update",!0),l("DELETE","/folder/delete",!1)),p=l("POST","/bookmark/new",!0),b=(l("PATCH","/bookmark/update",!0),l("DELETE","/bookmark/delete",!1)),m=l("GET","/views/sidebar",!1),j=l("GET","/views/contents",!1),O=l("GET","/views/meta",!1),H=(l("GET","/search/content",!1),l("GET","/search/suggestion",!1))},rOcY:function(e,t,r){e.exports=r("LrU7")},rePB:function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"a",(function(){return n}))},vNVm:function(e,t,r){"use strict";var n=r("J4zp"),a=r("TqRt");t.__esModule=!0,t.useIntersection=function(e){var t=e.rootMargin,r=e.disabled||!s,a=(0,o.useRef)(),i=(0,o.useState)(!1),l=n(i,2),f=l[0],v=l[1],d=(0,o.useCallback)((function(e){a.current&&(a.current(),a.current=void 0),r||f||e&&e.tagName&&(a.current=function(e,t,r){var n=function(e){var t=e.rootMargin||"",r=u.get(t);if(r)return r;var n=new Map,a=new IntersectionObserver((function(e){e.forEach((function(e){var t=n.get(e.target),r=e.isIntersecting||e.intersectionRatio>0;t&&r&&t(r)}))}),e);return u.set(t,r={id:t,observer:a,elements:n}),r}(r),a=n.id,o=n.observer,c=n.elements;return c.set(e,t),o.observe(e),function(){c.delete(e),o.unobserve(e),0===c.size&&(o.disconnect(),u.delete(a))}}(e,(function(e){return e&&v(e)}),{rootMargin:t}))}),[r,t,f]);return(0,o.useEffect)((function(){s||f||(0,c.default)((function(){return v(!0)}))}),[f]),[d,f]};var o=r("q1tI"),c=a(r("0G5g")),s="undefined"!==typeof IntersectionObserver;var u=new Map}}]);